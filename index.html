<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ellande Cros - Portfolio</title>
    <link rel="stylesheet" href="styles/index.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Rajdhani:wght@400;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    
    <!-- FORMES FOND -->
    <div id="ambient-3d-scene"></div>

    <!-- CURSEUR CUSTOM -->
    <div id="custom-cursor"></div>

    <!-- BARRE DE PROGRESSION -->
    <div class="progress-container">
        <div class="progress-bar" id="myBar"></div>
    </div>


    <div class="container">

        <!-- HEADER A GAUCHE -->
        <header class="header">
            <div>

                <!-- TITRE ET TEXTES EN DESSOUS -->
                <h1>Ellande Cros</h1>
                <h2>Je suis <span class="txt-type" data-wait="3000" data-words='["Développeur Web", "Développeur de Jeux Vidéos", "Passionné de Jeux Vidéos", "Game Designer"]'></span></h2>
                <p class="tagline">Je crée des jeux vidéos super géniaux wow faut que je remplisse.</p>

                <!-- MENU NAV -->
                <nav class="nav">
                    <ul>
                        <li>
                            <a href="#about" class="active">
                                <span class="nav-indicator"></span>
                                <span>À propos</span>
                            </a>
                        </li>
                        <li>
                            <a href="#projets">
                                <span class="nav-indicator"></span>
                                <span>Projets</span>
                            </a>
                        </li>
                        <li>
                            <a href="#contact">
                                <span class="nav-indicator"></span>
                                <span>Contact</span>
                            </a>
                        </li>
                    </ul>
                </nav>


            </div>

            <!-- RESEAUX -->
            <ul class="social-links">
                <li>
                    <a href="https://github.com/Ellandeee" target="_blank" aria-label="Github">
                        <img src="images/github.svg" alt="Github" class="social-icon">
                    </a>
                </li>
                <li>
                    <a href="https://linkedin.com/in/ellande-cros-868b0b39b" target="_blank" aria-label="Linkedin">
                        <img src="images/linkedin.svg" alt="Linkedin" class="social-icon">
                    </a>
                </li>
            </ul>
        </header>


        <!-- CONTENU A DROITE -->
        <main class="content">

            <!-- SECTION A PROPOS -->
            <section id="about" class="section">
                <h3 class="section-title">À PROPOS</h3>

                <p>
                    Je suis un lalalala <span class="highlight">Développeur</span> passionné par la création de
                    jeux vidéos de malade.
                    Lorem ipsum Lorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsum
                    <span class="highlight">Truc de fou</span> Lorem ipsumLorem ipsum
                </p>

                <p>
                    Je slauis un <span class="highlight">Développeur</span> passionné par la création de
                    jeux vidéos de malade.
                    Lorem ipsum Lorem ipsumLorem ipsumLorem ipsumLorem ipsumLor
                    <span class="highlight">Truc de fou</span> Lorem ipsumLorem ipsum
                </p>

                <p>
                    Je suis un un un un un un un un <span class="highlight">Développeur</span> passionné par la création de
                    jeux vidéos de malade.
                    Lorem ipsum Lorem ipsumLormLorem ipsumLorem ipsumLorem ipsumLorem ipsum
                    <span class="highlight">Truc de fou</span> Lorem ipsumLorem ipsum
                </p>
            </section>

            <!-- SECTION PROJETS -->
            <section id="projets" class="section">
                <h3 class="section-title">PROJETS</h3>

                <!-- PROJET 1 -->
                <div class="project-card">
                    <div class="project-info">
                        <h4>PROJET 1</h4>
                        <p>
                            lalala lulululululu description incroyable.
                        </p>
                        <div class="tags">
                            <span class="tag">Unity</span>
                            <span class="tag">C#</span>
                            <span class="tag">Figma</span>
                        </div>
                    </div>

                    <div class="project-img">
                        <img src="images/projet_1.webp" alt="Aperçu du projet">
                    </div>
                </div>

                <!-- PROJET 2 -->
                <div class="project-card">
                    <div class="project-info">
                        <h4>PROJET 2</h4>
                        <p>
                            lalala lulululululu description incroyable.
                        </p>
                        <div class="tags">
                            <span class="tag">Unity</span>
                            <span class="tag">C#</span>
                            <span class="tag">Figma</span>
                        </div>
                    </div>

                    <div class="project-img">
                        <img src="images/projet_2.webp" alt="Aperçu du projet">
                    </div>
                </div>

                <!-- PROJET 3 -->
                <div class="project-card">
                    <div class="project-info">
                        <h4>PROJET 3</h4>
                        <p>
                            lalala lulululululu description incroyable.
                        </p>
                        <div class="tags">
                            <span class="tag">Unity</span>
                            <span class="tag">C#</span>
                            <span class="tag">Figma</span>
                        </div>
                    </div>

                    <div class="project-img">
                        <img src="images/projet_3.webp" alt="Aperçu du projet">
                    </div>
                </div>
            </section>

            <!-- SECTION CONTACT -->
            <section id="contact" class="section">

                <h3 class="section-title">ME CONTACTER</h3>
                <p style="margin-bottom: 2rem;">
                    Un projet, une collaboration ou une question ? N'hésitez pas.
                </p>

                <!-- FORMULAIRE -->
                <form action="https://api.web3forms.com/submit" method="POST" class="contact-form">

                    <input type="hidden" name="access_key" value="ea0c9f13-a59b-48be-8198-2bf853face68">

                    <input type="hidden" name="redirect" value="https://ellandeee.github.io/portfolio/merci.html">

                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

                    <div class="form-group">
                        <input type="text" id="name" name="name" required placeholder=" ">
                        <label for="name">Votre Nom</label>
                    </div>

                    <div class="form-group">
                        <input type="email" id="email" name="email" required placeholder=" ">
                        <label for="email">Votre Email</label>
                    </div>

                    <div class="form-group">
                        <textarea id="message" name="message" rows="5" required placeholder=" "></textarea>
                        <label for="message">Votre Message</label>
                    </div>

                    <!-- BOUTON ENVOYER -->
                    <button type="submit" class="submit-btn">
                        ENVOYER LE MESSAGE
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                            <polyline points="12 5 19 12 12 19"></polyline>
                        </svg>
                    </button>

                </form>

            </section>

        </main>

    </div>


    <!-- SYNCRONISE LE MENU NAV AVEC LE DEFILEMENT DE LA PAGE -->
    <script>
        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav a');

        window.addEventListener('scroll', () => {
            let current = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                // Si on a scrollé jusqu'à cette section (-200px pour la marge)
                if (window.scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>


    <!-- "GPS" DE LA LAMPE TORCHE -->
    <script>
        const body = document.body;
            document.addEventListener('mousemove', (e) => {
                // On met à jour les variables CSS avec la position X et Y de la souris
                body.style.setProperty('--mouse-x', e.clientX + 'px');
                body.style.setProperty('--mouse-y', e.clientY + 'px');
            });
    </script>


    <!-- CURSEUR CUSTOM -->
    <script>
        const cursor = document.getElementById('custom-cursor');

        // 1. Mouvement instantané
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // 2. Clic (Rapetissement)
        document.addEventListener('mousedown', () => cursor.classList.add('clicking'));
        document.addEventListener('mouseup', () => cursor.classList.remove('clicking'));

        // 3. Hover (Rotation + Agrandissement)
        // S'applique aux liens, boutons, cards, inputs et textareas
        const clickables = document.querySelectorAll('a, button, .project-card, input, textarea');

        clickables.forEach((el) => {
            el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
            el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
        });
    </script>


    <!-- TEXTE QUI S'ECRIT ET QUI S'EFFACE -->
    <script>
        const TypeWriter = function(txtElement, words, wait = 3000) {
            this.txtElement = txtElement;
            this.words = JSON.parse(words);
            this.txt = '';
            this.wordIndex = 0;
            this.wait = parseInt(wait, 10);
            this.type();
            this.isDeleting = false;
        }

        TypeWriter.prototype.type = function() {
            const current = this.wordIndex % this.words.length;
            const fullTxt = this.words[current];

            if(this.isDeleting) {
                this.txt = fullTxt.substring(0, this.txt.length - 1);
            } else {
                this.txt = fullTxt.substring(0, this.txt.length + 1);
            }

            this.txtElement.innerHTML = `<span class="txt">${this.txt}</span>`;

            let typeSpeed = 100; // Vitesse de frappe

            if(this.isDeleting) { typeSpeed /= 2; }

            if(!this.isDeleting && this.txt === fullTxt) {
                typeSpeed = this.wait;
                this.isDeleting = true;
            } else if(this.isDeleting && this.txt === '') {
                this.isDeleting = false;
                this.wordIndex++;
                typeSpeed = 500;
            }

            setTimeout(() => this.type(), typeSpeed);
        }

        document.addEventListener('DOMContentLoaded', init);

        function init() {
            const txtElement = document.querySelector('.txt-type');
            const words = txtElement.getAttribute('data-words');
            const wait = txtElement.getAttribute('data-wait');
            new TypeWriter(txtElement, words, wait);
        }
    </script>


    <!-- BARRE DE PROGRESSION -->
    <script>
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            
            const myBar = document.getElementById("myBar");

            // Si on est sur grand écran (barre verticale)
            if (window.innerWidth > 768) {
                myBar.style.height = scrolled + "%";
                myBar.style.width = "100%"; // On force la largeur à rester fixe
            } 
            // Si on est sur mobile (barre horizontale)
            else {
                myBar.style.width = scrolled + "%";
                myBar.style.height = "100%"; // On force la hauteur à rester fixe
            }
        });
    </script>

    <!-- FORMES FOND -->
    <script>
        const scene = document.getElementById('ambient-3d-scene');

        // Détection mobile et ajustement du nombre d'éléments
        const isMobile = window.innerWidth <= 768;
        const numberOfItems = isMobile ? 20 : 40; // BEAUCOUP MOINS sur mobile
        const safeZone = 8;
        const itemsPool = ['shape-triangle', '}', '{', '[', ']', '<', '>', '/', ';', '++', 'JS', 'C#', '//'];

        // --- REGLAGES DE LA PHYSIQUE  ---
        const shockRadius = isMobile ? 300 : 500;
        const shockPower = isMobile ? 15 : 25;
        const friction = 0.95;
        const returnFactor = 0.004;

        // --- VARIABLES SOURIS ---
        let targetMouseX = 0, targetMouseY = 0;
        let currentMouseX = 0, currentMouseY = 0;
        const mouseLerp = isMobile ? 0.1 : 0.05; // Plus réactif sur mobile

        const placedPositions = [];

        // --- GÉNÉRATION ---
        for (let i = 0; i < numberOfItems; i++) {
            let x, y, tooClose;
            let attempts = 0;
            do {
                x = Math.random() * 90 + 5;
                y = Math.random() * 90 + 5;
                tooClose = false;
                for (let pos of placedPositions) {
                    const dist = Math.sqrt(Math.pow(x - pos.x, 2) + Math.pow(y - pos.y, 2));
                    if (dist < safeZone) { tooClose = true; break; }
                }
                attempts++;
            } while (tooClose && attempts < 100);

            if (attempts < 100) {
                placedPositions.push({ x, y });
                const item = document.createElement('div');
                const content = itemsPool[Math.floor(Math.random() * itemsPool.length)];
                item.className = 'floating-mesh ' + (content.startsWith('shape-') ? content : 'char-item');
                if (!content.startsWith('shape-')) item.innerText = content;

                item.style.left = x + '%';
                item.style.top = y + '%';
                
                const depth = Math.random() * 0.7 + 0.1;
                item.dataset.depth = depth;
                item.style.scale = 0.4 + (depth * 0.8);

                // PHYSIQUE INDIVIDUELLE
                item.dataset.vx = 0;
                item.dataset.vy = 0;
                item.dataset.ox = 0;
                item.dataset.oy = 0;
                
                item.style.setProperty('--base-rotation', `${Math.random() * 360}deg`);
                item.style.animationDuration = `${8 + Math.random() * 8}s`;
                item.style.animationDelay = `${Math.random() * -15}s`;

                scene.appendChild(item);
            }
        }

        // --- ÉCOUTEURS ---
        document.addEventListener('mousemove', (e) => {
            targetMouseX = (e.clientX / window.innerWidth) - 0.5;
            targetMouseY = (e.clientY / window.innerHeight) - 0.5;
        });

        // Désactiver l'interaction au clic sur mobile
        if (!isMobile) {
            document.addEventListener('mousedown', (e) => {
                const clickX = e.clientX;
                const clickY = e.clientY;
                const meshes = document.querySelectorAll('.floating-mesh');

                meshes.forEach(mesh => {
                    const rect = mesh.getBoundingClientRect();
                    const meshX = rect.left + rect.width / 2;
                    const meshY = rect.top + rect.height / 2;

                    const dx = meshX - clickX;
                    const dy = meshY - clickY;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < shockRadius) {
                        const depth = parseFloat(mesh.dataset.depth);
                        const impulse = (1 - distance / shockRadius) * shockPower * depth;
                        
                        mesh.dataset.vx = (dx / distance) * impulse;
                        mesh.dataset.vy = (dy / distance) * impulse;
                    }
                });
            });
        }

        // --- BOUCLE D'ANIMATION ---
        let lastTime = performance.now();
        const targetFPS = isMobile ? 30 : 60; // 30 FPS sur mobile
        const frameDelay = 1000 / targetFPS;

        function update(currentTime) {
            const deltaTime = currentTime - lastTime;
            
            // Limiter le framerate sur mobile
            if (deltaTime < frameDelay) {
                requestAnimationFrame(update);
                return;
            }
            
            lastTime = currentTime - (deltaTime % frameDelay);
            
            currentMouseX += (targetMouseX - currentMouseX) * mouseLerp;
            currentMouseY += (targetMouseY - currentMouseY) * mouseLerp;

            const meshes = document.querySelectorAll('.floating-mesh');
            meshes.forEach(mesh => {
                const depth = parseFloat(mesh.dataset.depth);
                let vx = parseFloat(mesh.dataset.vx);
                let vy = parseFloat(mesh.dataset.vy);
                let ox = parseFloat(mesh.dataset.ox);
                let oy = parseFloat(mesh.dataset.oy);

                // Effet de lumière (seulement sur desktop ou si peu de mouvement)
                if (!isMobile) {
                    const rect = mesh.getBoundingClientRect();
                    const meshX = rect.left + rect.width / 2;
                    const meshY = rect.top + rect.height / 2;

                    const distToMouse = Math.sqrt(
                        Math.pow(targetMouseX * window.innerWidth + window.innerWidth/2 - meshX, 2) + 
                        Math.pow(targetMouseY * window.innerHeight + window.innerHeight/2 - meshY, 2)
                    );

                    if (distToMouse < 250) {
                        mesh.classList.add('lit');
                    } else {
                        mesh.classList.remove('lit');
                    }
                }

                // Physique
                ox += vx;
                oy += vy;

                vx *= friction;
                vy *= friction;

                ox += (0 - ox) * returnFactor;
                oy += (0 - oy) * returnFactor;

                mesh.dataset.vx = vx;
                mesh.dataset.vy = vy;
                mesh.dataset.ox = ox;
                mesh.dataset.oy = oy;

                // Rendu
                const parallaxMultiplier = isMobile ? 100 : 200; // Moins de mouvement sur mobile
                const finalX = (currentMouseX * depth * parallaxMultiplier) + ox;
                const finalY = (currentMouseY * depth * parallaxMultiplier) + oy;
                
                mesh.style.translate = `${finalX}px ${finalY}px`;
            });

            requestAnimationFrame(update);
        }

        update(performance.now());
    </script>


</body>

</html>