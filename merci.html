<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Envoyé - Ellande Cros</title>
    <link rel="stylesheet" href="styles/index.css">
    <link rel="stylesheet" href="styles/merci.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">

</head>
<body>

    <!-- FORMES FOND -->
    <div id="ambient-3d-scene"></div>

    <!-- CURSEUR CUSTOM -->
    <div id="custom-cursor"></div>

    <div class="merci-box">
        <h1>MESSAGE ENVOYÉ</h1>
        <p>Merci de m'avoir contacté. Je vous répondrai dans les plus brefs délais.</p>
        
        <a href="index.html" class="submit-btn" style="text-decoration: none;">
            RETOUR AU SITE
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        </a>
    </div>


    <!-- "GPS" DE LA LAMPE TORCHE -->
    <script>
        const body = document.body;
            document.addEventListener('mousemove', (e) => {
                // On met à jour les variables CSS avec la position X et Y de la souris
                body.style.setProperty('--mouse-x', e.clientX + 'px');
                body.style.setProperty('--mouse-y', e.clientY + 'px');
            });
    </script>


    <!-- CURSEUR CUSTOM -->
    <script>
        const cursor = document.getElementById('custom-cursor');

        // 1. Mouvement instantané
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // 2. Clic (Rapetissement)
        document.addEventListener('mousedown', () => cursor.classList.add('clicking'));
        document.addEventListener('mouseup', () => cursor.classList.remove('clicking'));

        // 3. Hover (Rotation + Agrandissement)
        // S'applique aux liens, boutons, cards, inputs et textareas
        const clickables = document.querySelectorAll('a, button, .project-card, input, textarea');

        clickables.forEach((el) => {
            el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
            el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
        });
    </script>


    <!-- FORMES FOND -->
    <script>
        const scene = document.getElementById('ambient-3d-scene');
        const numberOfItems = 75;
        const safeZone = 10;
        const itemsPool = ['shape-triangle', 'shape-triangle', '}', '{', '[', ']', '<', '>', '/', ';', '++', 'JS', 'C#', '//'];

        // --- VARIABLES DE MOUVEMENT ---
        let targetMouseX = 0; // Là où est la souris
        let targetMouseY = 0;
        let currentMouseX = 0; // Là où en est "l'inertie"
        let currentMouseY = 0;
        
        // REGLAGE DE L'INERTIE : Plus le chiffre est petit (ex: 0.02), plus c'est lourd/lent à s'arrêter.
        // Plus il est grand (ex: 0.1), plus c'est réactif.
        const lerpFactor = 0.05; 

        const placedPositions = [];

        // --- GÉNÉRATION (Inchangée mais nécessaire) ---
        for (let i = 0; i < numberOfItems; i++) {
            let x, y, tooClose;
            let attempts = 0;
            do {
                x = Math.random() * 90 + 5;
                y = Math.random() * 90 + 5;
                tooClose = false;
                for (let pos of placedPositions) {
                    const dist = Math.sqrt(Math.pow(x - pos.x, 2) + Math.pow(y - pos.y, 2));
                    if (dist < safeZone) { tooClose = true; break; }
                }
                attempts++;
            } while (tooClose && attempts < 100);

            if (attempts < 100) {
                placedPositions.push({ x, y });
                const item = document.createElement('div');
                const content = itemsPool[Math.floor(Math.random() * itemsPool.length)];
                item.classList.add('floating-mesh');
                if (content.startsWith('shape-')) item.classList.add(content);
                else { item.classList.add('char-item'); item.innerText = content; }

                item.style.left = x + '%';
                item.style.top = y + '%';
                
                const depth = Math.random() * 0.7 + 0.1;
                item.dataset.depth = depth;
                item.style.scale = 0.4 + (depth * 0.8);
                
                const randomRotation = Math.random() * 360;
                item.style.setProperty('--base-rotation', `${randomRotation}deg`);
                item.style.animationDuration = `${6 + Math.random() * 6}s`;
                item.style.animationDelay = `${Math.random() * -12}s`;

                scene.appendChild(item);
            }
        }

        // --- GESTION DE LA SOURIS (On stocke juste la cible) ---
        document.addEventListener('mousemove', (e) => {
            targetMouseX = (e.clientX / window.innerWidth) - 0.5;
            targetMouseY = (e.clientY / window.innerHeight) - 0.5;
        });

        // --- MOTEUR D'ANIMATION (Le Lerp) ---
        function updateInertia() {
            // Formule du Lerp : ValeurActuelle += (Cible - ValeurActuelle) * Facteur
            currentMouseX += (targetMouseX - currentMouseX) * lerpFactor;
            currentMouseY += (targetMouseY - currentMouseY) * lerpFactor;

            const meshes = document.querySelectorAll('.floating-mesh');
            meshes.forEach(mesh => {
                const depth = parseFloat(mesh.dataset.depth);
                const moveX = currentMouseX * (depth * 180);
                const moveY = currentMouseY * (depth * 180);
                
                mesh.style.translate = `${moveX}px ${moveY}px`;
            });

            // On relance la fonction à la prochaine frame (60fps)
            requestAnimationFrame(updateInertia);
        }

        // On lance la boucle
        updateInertia();
    </script>

</body>
</html>